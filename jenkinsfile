pipeline {
    agent : any
    parameters {
        booleanParam(name: 'CHECKOUT', defaultValue: true, description: 'Toggle this value')
        booleanParam(name: 'BUILD', defaultValue: true, description: 'Toggle this value')
        booleanParam(name: 'TEST', defaultValue: true, description: 'Toggle this value')
        booleanParam(name: 'DEPLOY', defaultValue: false, description: 'Toggle this value')
    }
    
    stages {
         stage('Checkout') {
             when {
                expresssion{
                    param.CHECKOUT== true
                }
             }
             steps {
                checkout ([
                $class: 'GitSCM',
                Branches: [[name: '*/main']],
                userRemoteConfigs: [[ url: '<put git ulr>',
                credentials: 'github'
                ]]])
            }
         }
         stage('Build') {
             steps {
                sh'''
                sudo apt update 
                sudo apt install -y maven
                ls-lrt
                cd <// file path>
                maven clean install
                '''
            }

        stage('test') {
             steps {
                catchError(buildResult: 'SUCCESS', stageResult: 'FAILURE')
                {
                    sh'''
                        sleep 5
                        exit 1
                    '''
                }
            }

        stage('Deploy') {
             steps {
                sh'''
                sleep 10
                '''
            }
         }
    } 
}
